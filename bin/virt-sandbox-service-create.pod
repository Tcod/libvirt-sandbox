=head1 NAME

virt-sandbox-service create - Create a Security container

=head1 SYNOPSIS

  virt-sandbox-service [-c URI] create [-h] -u UNIT_FILE [ --clone ] [-p PATH] [-s SECURITY-OPTS] [-i SIZE] [-n] NAME

=head1 DESCRIPTION

virt-sandbox-service is used to manage secure sandboxed system services.
These applications will be launched via libvirt and run within a virtualization
technology such as LinuX Containers (LXC), or optionally QEMU/KVM. The
container / virtual machines will be secured by SELinux and resource
separated using cgroups.

The create command will setup a sandbox for running one or more systemd unit files

=head1 OPTIONS

=over 4

=item B<-h>, B<--help>

Display help message

=item B<-c> URI, B<--connect URI>

The connection URI for the hypervisor (only LXC or QEMU are
supported currently).

=item B<-u UNIT_FILE>, B<--unitfile UNIT_FILE>

Name of the systemd unit file to be to run within the container. Can be repeated
if multiple unit files are required within the sandbox.

=item B<-C>, B<--clone>

Clone content from /etc and /var directories that will be mounted within the container.

=item B<-p PATH>, B<--path PATH>

Select path to store container content.

Default: C</var/lib/libvirt/filesystems>.

=item B<-s SECURITY-OPTIONS>, B<--security=SECURITY-OPTIONS>

Use alternative security options. SECURITY-OPTIONS is a set of key=val pairs,
separated by commas. The following options are valid for SELinux

=over 4

=item dynamic

Dynamically allocate an SELinux label, using the default base context.
The default base context is system_u:system_r:svirt_lxc_net_t:s0 for LXC,
system_u:system_r:svirt_t:s0 for KVM, system_u:system_r:svirt_tcg_t:s0
for QEMU.

=item dynamic,label=USER:ROLE:TYPE:LEVEL

Dynamically allocate an SELinux label, using the base context
USER:ROLE:TYPE:LEVEL, instead of the default base context.

=item static,label=USER:ROLE:TYPE:LEVEL

To set a completely static label. For example,
static,label=system_u:system_r:svirt_t:s0:c412,c355

=back

=item B<-i SIZE>, B<--image SIZE>

Create file system image file of this size to store container content.

=item B<-u unitfile>, B<--unitfile unitfile>

systemd Unit file to run within the container

=back

=head1 EXAMPLE

Create httpd1 container

 # virt-sandbox-service create -C -u httpd.service httpd1
 Created container dir /var/lib/libvirt/filesystems/httpd1
 Created sandbox config /etc/libvirt-sandbox/httpd1.sandbox
 Created unit file /etc/systemd/system/httpd@httpd1.service

=head1 SEE ALSO

C<libvirt(8)>, C<selinux(8)>, C<systemd(8)>, C<virt-sandbox-service(1)>

=head1 FILES

Container content will be stored in subdirectories of
C</var/lib/libvirt/filesystems>, by default.  You can manage the
content in these directories outside of the container and
processes within the container will see the content.

=head1 AUTHORS

Daniel Walsh <dwalsh@redhat.com>
Daniel P. Berrange <dan@berrange.com>

=head1 COPYRIGHT

Copyright (C) 2011-2013 Red Hat, Inc.

=head1 LICENSE

virt-sandbox is distributed under the terms of the GNU LGPL v2+.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE
